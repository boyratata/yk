(function(_,r,a,d,o,ui,assets,storage){const Dispatcher=r.findByProps("dispatch","subscribe");const RowManager=r.findByName("RowManager");const MessageStore=r.findByStoreName("MessageStore");const cache={};Dispatcher.subscribe("MESSAGE_CREATE",e=>{const m=e?.message;if(m?.id&&m?.content)cache[m.id]=m.content});Dispatcher.subscribe("MESSAGE_UPDATE",e=>{const m=e?.message;if(m?.id&&m?.content){const old=cache[m.id];if(old&&old!==m.content)m.__oldContent=old;cache[m.id]=m.content}});const unpatch=d.after("generate",RowManager.prototype,([row],res)=>{const m=row?.message;if(m?.__oldContent){res.message.content=`[Edited]\n[Before]: ${m.__oldContent}\n[After]: ${m.content}`}});return{onUnload:()=>{unpatch();for(const k in cache)delete cache[k]},settings:null}})(vendetta.metro.common,vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.plugin,vendetta.ui,vendetta.ui.assets,vendetta.storage);
